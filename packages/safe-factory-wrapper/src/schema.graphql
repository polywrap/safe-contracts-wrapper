"""
import { Module } into SafeContracts from "wrap://ens/safe.contracts.polywrap.eth"

import {
    Module,
    Connection,
    Log,
    TxRequest,
    TxReceipt,
    TxResponse,
    TxOptions,
    StaticTxResult
} into Ethereum from "wrap://ens/wraps.eth:ethereum@1.1.0"
import { Module } into EthersUtils from "wrap://ens/wraps.eth:ethereum-utils@0.0.1"
import * into Datetime from "wrap://ens/datetime.polywrap.eth"
import * into Logger from "wrap://ens/wraps.eth:logger@1.0.0"
"""

type Module {
    getChainId(
        connection: Ethereum_Connection
    ):String

    deploySafe(
        safeAccountConfig: SafeAccountConfig!,
        safeDeploymentConfig: SafeDeploymentConfig,
        #options: TransactionOptions,
        connection: Ethereum_Connection,
        txOptions: Ethereum_TxOptions,
        customContractAdressess: CustomContract
    ): SafePayload

    predictSafeAddress(
        safeAccountConfig: SafeAccountConfig!,
        safeDeploymentConfig: SafeDeploymentConfig,
        connection: Ethereum_Connection,
        customContractAdressess: CustomContract
    ): String
}

enum OperationType {
    Call,
    DelegateCall
}

type CustomContract {
    proxyFactoryContract: String
    safeFactoryContract: String
}

type SafePayload {
    safeAddress: String!
    contractNetworks: ContractNetworksConfig
    isL1SafeMasterCopy: Boolean!
}

type ContractNetworksConfig {
      multiSendAddress: String
      multiSendCallOnlyAddress: String
      safeMasterCopyAddress: String
      safeProxyFactoryAddress: String
}

type SafeAccountConfig {
    owners: [String!]!
    threshold: UInt!
    to: String
    data: String
    fallbackHandler: String
    paymentToken: String
    payment: BigInt
    paymentReceiver: String
}

type SafeDeploymentConfig {
    saltNonce: String!
    isL1Safe: Boolean
    version: String
}

type MetaTransactionData {
    to: String!
    value: String!
    data: String!
    operation: OperationType
}

type SafeTransactionData implements MetaTransactionData {
    safeTxGas: BigInt!
    baseGas: BigInt!
    gasPrice: BigInt!
    gasToken: String!
    refundReceiver: String!
    nonce: BigInt!
}

type SafeTransactionDataPartial implements MetaTransactionData {
    safeTxGas: BigInt
    baseGas: BigInt
    gasPrice: BigInt
    gasToken: String
    refundReceiver: String
    nonce: BigInt
}

type SafeSignature {
    signer: String!
    data: String!
}

type SafeTransaction {
    data: SafeTransactionData!
    signatures: [SafeSignature!]!
}

type BaseTransactionResult {
    hash: String!
}

type TransactionResult implements BaseTransactionResult {
    receipt: Ethereum_TxReceipt
    transactionResponse: Ethereum_TxResponse
    #options: TransactionOptions
}

type TransactionOptions {
    from: String
    gas: BigInt
    gasLimit: BigInt
    gasPrice: BigInt
    maxFeePerGas: BigInt
    maxPriorityFeePerGas: BigInt
}

type Eip3770Address {
    prefix: String!
    address: String!
}
